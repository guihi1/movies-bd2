<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/actor-details.css">
  <title><%= pageTitle %></title>
</head>
<body>
  <%- include('../partials/navbar') %>

  <div class="container">
    
    <h1 class="ator-nome"><%= pessoa.nome %></h1>
    <div class="actor-bio-box">
      <h3>Detalhes Pessoais</h3>
      <div class="bio-grid">
        <strong class="bio-label">Data de Nasc.:</strong>
        <span class="bio-value">
          <%= pessoa.data_de_nascimento ? new Date(pessoa.data_de_nascimento).toLocaleDateString('pt-BR') : 'N/A' %>
        </span>
        
        <strong class="bio-label">Local de Nasc.:</strong>
        <span class="bio-value"><%= pessoa.local_de_nascimento %></span>
        
        <strong class="bio-label">Altura:</strong>
        <span class="bio-value"><%= pessoa.altura ? pessoa.altura + 'm' : 'N/A' %></span>
      </div>
    </div>

    <!-- NOVA SEÇÃO: PREMIAÇÕES -->
<h3 class="filmografia-titulo">Premiações</h3>
<div class="filmografia-list">
  <% if (premiacoes && premiacoes.length > 0) { %>
    <% premiacoes.forEach(premio => { %>
      <div class="filme-card">
        <span class="filme-titulo">
          <%= premio.nome_premio %>
          <% if (premio.ano) { %> (<%= premio.ano %>) <% } %>
        </span>
        <span class="filme-personagem">
          <% if (premio.personagem) { %>
            <%= premio.personagem %>
          <% } %>
        </span>
        <% if (premio.categoria || premio.organizacao || premio.descricao) { %>
          <div class="premiacao-detalhes">
            <% if (premio.categoria) { %>
              <div><strong>Categoria:</strong> <%= premio.categoria %></div>
            <% } %>
            <% if (premio.organizacao) { %>
              <div><strong>Organização:</strong> <%= premio.organizacao %></div>
            <% } %>
            <% if (premio.descricao) { %>
              <div><strong>Descrição:</strong> <%= premio.descricao %></div>
            <% } %>
          </div>
        <% } %>
      </div>
    <% }); %>
  <% } else { %>
    <p>Nenhuma premiação registrada para este ator.</p>
  <% } %>
</div>

    <h3 class="filmografia-titulo">Filmografia</h3>
    <div class="filmografia-list">
      <% if (filmografia && filmografia.length > 0) { %>
        <% filmografia.forEach(item => { %>
          <div class="filme-card">
            <span class="filme-titulo">
              <% 
                let mediaRoute = '/';
                let mediaTitle = '';
                if (item.tipo === 'Filme') {
                  mediaRoute = '/movie-details/' + item.midia_id;
                  mediaTitle = item.titulo;
                } else if (item.tipo === 'Episódio de Série') {
                  mediaRoute = '/show-details/' + item.serie_id;
                  mediaTitle = item.serie_nome || '(Série desconhecida)';
                } 
              %>
              <a href="<%= mediaRoute %>"><%= mediaTitle %></a>
            </span>
            <span class="filme-personagem"><%= item.personagem %></span>
          </div>
        <% }); %>
      <% } else { %>
        <p>Nenhuma atuação encontrada para este ator.</p>
      <% } %>
    </div>
    <a href="/actors" class="back-link">← Voltar para todos os atores</a>

  </div>
</body>
</html>
